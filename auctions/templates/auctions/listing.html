{% extends "auctions/layout.html" %}

{% block body %}

    <h1 class="my-4" style="text-align: center;">{{ listing.title }}</h1>

    <div class="container text-center">
      <div class="row">
        <div class="col">
            <img src="{{ listing.image }}" alt="{{ listing.title }}" height="400px">
        </div>
      </div>
    </div>

    <h2 class="my-4" style="text-align: center;">Price: Â£{{ listing.price | floatformat:2 }}</h2>
    <p style="font-weight: bold; text-align: center;">Seller: {{ listing.seller }}</p>
    <p class="my-4 mx-4">{{ listing.description }}</p>

    <div class="row" style="display: flex; justify-content: center; align-items: center;">
        {% if user.is_authenticated %}
            {% if listing_in_watchlist%}
                <form action="{% url 'remove_from_watchlist' id=listing.id %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-secondary">Remove from watchlist</button>
                </form>
            {% else %}
                <form action="{% url 'add_to_watchlist' id=listing.id %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-secondary">Add to watchlist</button>
                </form>
            {% endif %}
        {% endif %}
    </div>

{% endblock %}
